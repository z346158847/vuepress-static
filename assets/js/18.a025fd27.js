(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{511:function(s,e,n){"use strict";n.r(e);var a=n(4),t=Object(a.a)({},(function(){var s=this,e=s.$createElement,n=s._self._c||e;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h3",{attrs:{id:"vue2-0配置webpack-dev-server的配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#vue2-0配置webpack-dev-server的配置"}},[s._v("#")]),s._v(" Vue2.0配置webpack-dev-server的配置")]),s._v(" "),n("p",[s._v("proxy:设置代理")]),s._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",[s._v("因为浏览器的同源策略，调用不同域的资源就会产生跨域的问题，所以需要设置代理配置跨域，才能正常请求到其他域下的资源\n设置代理, 首先得有一个标识, 确认哪一个连接要用代理. 不然的话, html, css, js这些静态资源都使用代理的网址调用. 所以只有需要调用的接口用代理, 静态文件用本地.")])]),s._v(" "),n("ul",[n("li",[s._v("'/api':{}：接口只要是'api'开头的才用代理.这个'api'即标识")]),s._v(" "),n("li",[s._v("target:源地址，即请求接口的url前缀，如果我的接口都在http://xxx.xx.com下，那么源地址就是http://xxx.xx.com")]),s._v(" "),n("li",[s._v("changeOrigin:是否允许跨域")]),s._v(" "),n("li",[s._v("ws:是否代理websockets")]),s._v(" "),n("li",[s._v("pathRewrite:{'^/api':''}:顾名思义，这是 ' 路径重写 ’ 的意思")]),s._v(" "),n("li",[s._v("当设置了标识符后，接口调用就要这么写 :/api/delete?id=123，最后请求的路径就是 http://xxx.xx.com/api/delete?id=123.但是如果正确的接口路径里面没有/api. 所以就需要 pathRewrite,用'^/api':'', 把'/api'用空字符代替,最后请求的路径就是http://xxx.xx.com/delete?id=123了.这样既能有正确标识, 又能在请求接口的时候去掉api.")])]),s._v(" "),n("h3",{attrs:{id:"vue3-0配置vue-config-js"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#vue3-0配置vue-config-js"}},[s._v("#")]),s._v(" Vue3.0配置vue.config.js")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("module.exports = {\n    // 基本路径\n    baseUrl: '/',\n    // 输出文件目录\n    outputDir: 'dist',\n    // eslint-loader 是否在保存的时候检查\n    lintOnSave: true,\n    // webpack配置\n    chainWebpack: () => { },\n    configureWebpack: () => { },\n    // 生产环境是否生成 sourceMap 文件\n    productionSourceMap: true,\n    // css相关配置\n    css: {\n        // 是否使用css分离插件 ExtractTextPlugin\n        extract: true,\n        // 开启 CSS source maps?\n        sourceMap: false,\n        // css预设器配置项\n        loaderOptions: {},\n        // 启用 CSS modules for all css / pre-processor files.\n        modules: false\n    },\n    parallel: require('os').cpus().length > 1,\n    pwa: {},\n    // webpack-dev-server 相关配置\n    devServer: {\n        open: true,                                 //配置自动启动浏览器\n        host: 'localhost',\n        port: 8080,                                 // 端口号\n        https: false,\n        hotOnly: false,                             // https:{type:Boolean}\n        proxy: {                                        // 配置跨域\n            '/api':{\n                target:'http://xxx.xx.xxx.xxx:8080', //源地址\n                changeOrigin:true,                  //改变源\n                ws:true,                            //是否代理websockets\n                pathRewrite:{\n                    '^/api':''\n                }\n            }\n        },                                           // 配置跨域处理,只有一个代理\n        before: app => { }\n    },\n    // 第三方插件配置\n    pluginOptions: {}\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br")])]),n("h2",{attrs:{id:"vue踩坑记录"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#vue踩坑记录"}},[s._v("#")]),s._v(" Vue踩坑记录")]),s._v(" "),n("h3",{attrs:{id:""}},[n("a",{staticClass:"header-anchor",attrs:{href:"#"}},[s._v("#")])]),s._v(" "),n("p",[s._v("vue项目部署\n生产环境静态文件为nginx目录下的目录名")]),s._v(" "),n("p",[s._v("生产接口为后台接口")]),s._v(" "),n("p",[s._v("history去除")]),s._v(" "),n("p",[s._v("跨域问题\n1.vue开发时开启跨域")]),s._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[s._v("proxyTable: {\n      '/api/**': {\n        changeOrigin: true,\n    },\n")])])]),n("p",[s._v("2.axiox跨域导致cookie失效")]),s._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[s._v("axios.defaults.withCredentials = true\n")])])]),n("p",[s._v("3.跨域请求,关于后端session会话丢失的解决办法")]),s._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[s._v('tomcat，在conf/context.xml文件中，设置sessionId的cookieName别名，不和默认的jsessionid\n\n<Context  sessionCookieName="SHGJSESSIONID"  sessionCookiePath="/">\n\nweblogic\n<session-descriptor>\n<cookie-name>JSESSIONID1</cookie-name>\n</session-descriptor>\n')])])]),n("p",[s._v("iview坑Iview打包到生产环境时， woff 字体引用问题")]),s._v(" "),n("p",[s._v("webpack.prod.conf.js\nusePostCSS: true  改为  false\nrules: utils.styleLoaders({\nsourceMap: config.build.productionSourceMap,\nextract: false,\nusePostCSS: true\n})")])])}),[],!1,null,null,null);e.default=t.exports}}]);